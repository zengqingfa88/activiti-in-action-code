package me.kafeitu.activiti.chapter8;import org.activiti.engine.runtime.ProcessInstance;import org.activiti.engine.test.ActivitiRule;import org.activiti.engine.test.Deployment;import org.junit.Rule;import org.junit.Test;import java.util.HashMap;import java.util.Map;import static org.junit.Assert.assertNotNull;/** * 通过Activiti发送邮件 * * @author henryyan */public class MailTaskByGmailTest {    @Rule    public ActivitiRule activitiRule = new ActivitiRule("activiti-gmail.cfg.xml");    @Test    @Deployment(resources = {"diagrams/chapter8/testMailTask.bpmn"})    public void sendMailLocalTest() throws Exception {        Map<String, Object> variables = new HashMap<String, Object>();        variables.put("name", "Tom Wang");        variables.put("to", "yanhonglei@gmail.com");        variables.put("from", "yanhonglei@gmail.com");        ProcessInstance processInstance = activitiRule.getRuntimeService().startProcessInstanceByKey("testMailTask", variables);        assertNotNull(processInstance);    }}